<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="偕臧"><meta name="copyright" content="偕臧"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>如何给上游Qt提交Bug反馈和贡献代码PATH？ | 偕臧</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="shortcut icon" type="image/svg+xml" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"ifmet.cn","root":"/","title":"偕臧的小站","version":"1.5.2","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="alternate" href="/atom.xml" title="偕臧" type="application/atom+xml"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=UA-160972149-1"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-160972149-1');
}</script><meta name="description" content="简  述：　记录如何给上游的 QT 组织提 Bug （or Suggesstion），和给提交代码贡献 PATH（代码合并请求）的经验；给读者以参考；修改内容不重要，重要的熟悉如给 Qt 提交 Bug 反馈和 代码贡献 PATH；">
<meta property="og:type" content="article">
<meta property="og:title" content="如何给上游Qt提交Bug反馈和贡献代码PATH？">
<meta property="og:url" content="https://ifmet.cn/posts/6c51a934/index.html">
<meta property="og:site_name" content="偕臧">
<meta property="og:description" content="简  述：　记录如何给上游的 QT 组织提 Bug （or Suggesstion），和给提交代码贡献 PATH（代码合并请求）的经验；给读者以参考；修改内容不重要，重要的熟悉如给 Qt 提交 Bug 反馈和 代码贡献 PATH；">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707223151.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707224536.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707232702.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707233144.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200709010256.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200709005436.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708001558.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708000059.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200709003020.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708_205601.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708212111.png">
<meta property="article:published_time" content="2020-07-09T01:06:45.000Z">
<meta property="article:modified_time" content="2020-07-09T01:06:45.000Z">
<meta property="article:author" content="偕臧">
<meta property="article:tag" content="Qt">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707223151.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="偕臧"><img width="96" loading="lazy" src="/xmuli.png" alt="偕臧"><span class="site-author-status" title="一片四叶幸运草">🍀</span></a><div class="site-author-name"><a href="/about/">偕臧</a></div><a class="site-name" href="/about/site.html">偕臧</a><sub class="site-subtitle"></sub><div class="site-desciption">看待世界始终保持着好奇</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">245</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">25</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">29</span></a></div><a class="site-state-item hty-icon-button" href="https://ifmet.cn/about" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://sighttp.qq.com/authd?IDKEY=31f3ef7312b39e2c8dc822ae2f4c3b3118e1a6f31cc83373" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/xmuli" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:xmulitech@gmail.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/106940738" title="哔哩哔哩动画" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/xmulite" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/xmuli" title="Telegram" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://xmuli.blog.csdn.net" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-send-plane-2-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="友链直达" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-women-line"></use></svg></a><a class="links-item hty-icon-button" href="/learn/" title="学习他人" style="color:Pink"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-heart-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91-Qt-%E6%8F%90%E4%BA%A4%E5%8F%8D%E9%A6%88-Bug%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">向 Qt 提交反馈 Bug：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C-Qt-%E8%B4%A6%E5%8F%B7%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">注册 Qt 账号：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4-Bug-%E5%89%8D%E5%87%86%E5%A4%87%EF%BC%9A"><span class="toc-number">1.2.</span> <span class="toc-text">提交 Bug 前准备：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-Bug-%E5%8D%95%EF%BC%9A"><span class="toc-number">1.3.</span> <span class="toc-text">创建 Bug 单：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%88%9B%E5%BB%BA%E7%9A%84-Bug-%E5%8D%95"><span class="toc-number">1.4.</span> <span class="toc-text">查看创建的 Bug 单</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%EF%BC%9A"><span class="toc-number">1.5.</span> <span class="toc-text">其他：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91-Qt-%E6%8F%90%E4%BA%A4%E8%B4%A1%E7%8C%AE-Code%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">向 Qt 提交贡献 Code：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C-Qt-%E8%B4%A6%E5%8F%B7%EF%BC%9A-1"><span class="toc-number">2.1.</span> <span class="toc-text">注册 Qt 账号：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%99%BB%E5%BD%95-Code-Review%EF%BC%9A"><span class="toc-number">2.2.</span> <span class="toc-text">登录 Code Review：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5-ssh%EF%BC%9A"><span class="toc-number">2.3.</span> <span class="toc-text">输入 ssh：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E4%BB%93%E5%BA%93%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="toc-number">2.4.</span> <span class="toc-text">下载仓库的代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE-git-hooks%EF%BC%9A"><span class="toc-number">2.5.</span> <span class="toc-text">设置 git hooks：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81%E5%92%8C-commit%EF%BC%9A"><span class="toc-number">2.6.</span> <span class="toc-text">修改代码和 commit：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4%E8%B4%A1%E7%8C%AE%EF%BC%9A"><span class="toc-number">2.7.</span> <span class="toc-text">提交贡献：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E9%80%81%E8%B4%A1%E7%8C%AE-PATH%EF%BC%9A"><span class="toc-number">2.8.</span> <span class="toc-text">推送贡献 PATH：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%AE%A1%E6%A0%B8"><span class="toc-number">2.9.</span> <span class="toc-text">添加审核:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E7%BB%93%E6%9E%9C%EF%BC%9A"><span class="toc-number">2.10.</span> <span class="toc-text">合并结果：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">总结：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%EF%BC%9A"><span class="toc-number">4.</span> <span class="toc-text">参考：</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://ifmet.cn/posts/6c51a934/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="偕臧"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="偕臧"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">如何给上游Qt提交Bug反馈和贡献代码PATH？<a class="post-edit-link" href="https://github.com/xmuli/xmuliMark/tree/master/source/_posts/如何给上游Qt提交Bug反馈和贡献代码PATH？.md" target="_blank" title="编辑" rel="noopener"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-edit-line"></use></svg></a></h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2020-07-09 01:06:45" itemprop="dateCreated datePublished" datetime="2020-07-09T01:06:45+00:00">2020-07-09</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">2.2k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">9m</span></span></span><span class="leancloud_visitors" id="/posts/6c51a934/" data-flag-title="如何给上游Qt提交Bug反馈和贡献代码PATH？"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读次数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span class="leancloud-visitors-count"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/%E5%AD%A6%E4%B9%A0-Qt/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">学习 - Qt</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/Qt/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Qt</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p><strong>简  述：</strong>　记录如何给上游的 QT 组织提 Bug （or Suggesstion），和给提交代码贡献 PATH（代码合并请求）的经验；给读者以参考；修改内容不重要，重要的熟悉如给 Qt 提交 Bug 反馈和 代码贡献 PATH；</p>
<span id="more"></span>

<p>[TOC]</p>
<br>

<blockquote>
<p><font color=#D0087E size=4 face="STFangsong">本文初发于 <strong>“偕臧的小站”</strong>  <a href="https://ifmet.cn/">ifmet.cn</a>，同步转载于此。</font></p>
</blockquote>
<br>

<h3 id="向-Qt-提交反馈-Bug："><a href="#向-Qt-提交反馈-Bug：" class="headerlink" title="向 Qt 提交反馈 Bug："></a>向 Qt 提交反馈 Bug：</h3><p>向上游的 Qt 组织反馈你所发现的 bug，或者是你想提的建议 Suggesstion；</p>
<br>

<p><strong>步骤流程：</strong></p>
<h4 id="注册-Qt-账号："><a href="#注册-Qt-账号：" class="headerlink" title="注册 Qt 账号："></a>注册 Qt 账号：</h4><p> 登录 <a target="_blank" rel="noopener" href="https://login.qt.io/register">login.qt.io</a> 网站，注册一个属于你的 Qt 账号；</p>
 <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707223151.png" width="50%" / loading="lazy">

<br>

<h4 id="提交-Bug-前准备："><a href="#提交-Bug-前准备：" class="headerlink" title="提交 Bug 前准备："></a>提交 Bug 前准备：</h4><p>登录 <a target="_blank" rel="noopener" href="https://bugreports.qt.io/secure/Dashboard.jspa">bugreports.qt.io</a> ，先在下面链接处的 Bug 库里面查询一下， 你想要提交的 bug （or Suggesstion）是否已经被人提了，若是重复，则不必再提；</p>
 <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707224536.png" width="85%" / loading="lazy">

<br>

<h4 id="创建-Bug-单："><a href="#创建-Bug-单：" class="headerlink" title="创建 Bug 单："></a>创建 Bug 单：</h4><p>若是之前没有人填写你想提的这个 Bug， 则可以放心的开始创建你的 Bug 单号了，点击上面的 <code>新建</code> 按钮，然后按照页面的提交，进行填写，其中带有 * 的为必填项；其中通常 默认为 <code>Qt (QTBUG)</code> 和 <code>Bug</code> ，若是 Linux 上面的平台，则可以选择为 <code>Linux/x11</code> ; 在然后就是下面的详细描述：越详细越好， 最好可以在下面的附件可以带上你写的能够复现的实例程序最佳；都完成之后，就可以点击有下家的 <code>新建</code> 按钮<br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707232702.png" width="70%" / loading="lazy"></p>
<p>若是创建成功，则会在首页看到一个显示， 点击即可以看到这个 Bug 单号，注意它生成的一个 Bug 编号是很重要且唯一的；</p>
 <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707233144.png" width="70%" / loading="lazy">
<br>

<h4 id="查看创建的-Bug-单"><a href="#查看创建的-Bug-单" class="headerlink" title="查看创建的 Bug 单"></a>查看创建的 Bug 单</h4><p>点击 <a target="_blank" rel="noopener" href="https://bugreports.qt.io/browse/QTBUG-85477">QTBUG-85477</a> 进去，可以查看刚创建好的 Bug 单；沟通得知该问题的属于第三方的问题，的需要在<a target="_blank" rel="noopener" href="https://github.com/glennrp/libpng">上游</a>去修改（后面已在上游提交 pr）；<br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200709010256.png" width="90%" / loading="lazy"></p>
<br>

<h4 id="其他："><a href="#其他：" class="headerlink" title="其他："></a>其他：</h4><p>可以修改该网站语言为中文；想不到吧！！！ 使用 Qt 的 Bug 反馈网站，居然是有语言这一栏的设置的 ，点击右上角的 <code>profile-Preferences- pen 图标</code> (<code>头像-个人信息- 参数配置-笔</code>)， 在弹出来的语言中选择 <code>中文（中国）</code>后，点击<code>更新</code>保存。</p>
<p>体验了一把，中文的翻译也不算很过关，可以勉强使用，随后使用 中文、English， 由你自己体验选择；还是推荐英文；</p>
<br>
<br>
<br>
<br>

<hr>
<br>
<br>
<br>
<br>

<h3 id="向-Qt-提交贡献-Code："><a href="#向-Qt-提交贡献-Code：" class="headerlink" title="向 Qt 提交贡献 Code："></a>向 Qt 提交贡献 Code：</h3><p>除了给 Qt 提交 Bug 或 Suggesstion，我们也可以依靠自己的动手能力，给 Qt 提交代码请求他们进行合并，从而帮助 Qt 的代码更加完善；</p>
<br>

<p><strong>提交步骤：</strong></p>
<h4 id="注册-Qt-账号：-1"><a href="#注册-Qt-账号：-1" class="headerlink" title="注册 Qt 账号："></a>注册 Qt 账号：</h4><p>注册一个 Qt（codereview） 的账号；</p>
<br>

<h4 id="登录-Code-Review："><a href="#登录-Code-Review：" class="headerlink" title="登录 Code Review："></a>登录 Code Review：</h4><p>登录 <a target="_blank" rel="noopener" href="https://codereview.qt-project.org/dashboard/self">codereview.qt-project.org</a>  网站，这是 Qt 组织的官方“代码审核”平台（不同于 GitLab 和 GitHub），其主要功能是代码审查很是方便；</p>
<p>配置邮件：在 <code>Email</code> 中填写邮箱；</p>
<p>到个人信息中， 在 “Agreements-New Contributor Agreement” 中， 允许一个贡献协议。通常个人是提交<br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200709005436.png" width="60%" / loading="lazy"></p>
<p><font color=#D0087E face="幼圆"><strong>注意：</strong>  邮箱是必填的，且要和后面提交的署名的邮箱是同一个邮箱；且若不签署此协议，是不能被 push 的， 也是不会被合并的。</font></p>
<br>

<h4 id="输入-ssh："><a href="#输入-ssh：" class="headerlink" title="输入 ssh："></a>输入 ssh：</h4><p>和 GitHub、 GitLab 这种相似，本机创建好自己的 git 账号后，在终端执行 <code>cat ~/.ssh/id_rsa.pub</code> 后将显示的公钥字符串，进行复制，点击网页的右上角的 <strong>“settings-SSHKeys-SSH keys”</strong> 页面，将其粘贴到里面，然后点击 <strong>“ADD NEW SSH KEY”</strong> 几可以创建成功</p>
 <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708001558.png" width="70%" / loading="lazy">

<p><font color=#D0087E face="幼圆"><strong>注意：</strong>  使用 commit 的时候，生成 git 的 user.name 必须和 user.email 中 @ 的前缀是一样的；且 <code>姓</code>和<code>名</code>必须是首字母大写，且 <code>姓</code>和<code>名</code>之间使用用空格隔开；否则可能是不被合并改代码的，或者修改的话也是很麻烦的； eg: <code>Xmuli Tech &lt;xmulitech@gmail.com&gt;</code></font><br><br></p>
<h4 id="下载仓库的代码"><a href="#下载仓库的代码" class="headerlink" title="下载仓库的代码"></a>下载仓库的代码</h4><p>点击主页的 <strong>“BROWSE-Repositiories”</strong>，然后在搜索栏 <strong>“Fileter：”</strong> 的右侧，输入你想要查找的仓库，eg：<code>qtbase</code>；<br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708000059.png" width="100%" / loading="lazy"></p>
<p>然后点击该仓库链接， 可以看到，一共提供了三种下载方式：你也可以使用如下任意一种方式下载；但是由于某种神秘的原因，直接下载可能会很慢（有 434.7 M， 2020-07-08），哪怕是使用 TZ 依旧耗时很久，请耐心等待</p>
<ul>
<li><p>**[方式一] ANONYMOUS HTTP **</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Clone with commit-msg hook</span>
<span class="token function">git</span> clone <span class="token string">"https://codereview.qt-project.org/qt/qtbase"</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>cd <span class="token string">"qtbase"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> -p .git/hooks <span class="token operator">&amp;&amp;</span> <span class="token function">curl</span> -Lo <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> rev-parse --git-dir<span class="token variable">`</span></span>/hooks/commit-msg https://codereview.qt-project.org/tools/hooks/commit-msg<span class="token punctuation">;</span> <span class="token function">chmod</span> +x <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> rev-parse --git-dir<span class="token variable">`</span></span>/hooks/commit-msg<span class="token punctuation">)</span>

<span class="token comment"># Clone with commit-msg hook</span>
<span class="token function">git</span> clone <span class="token string">"https://codereview.qt-project.org/qt/qtbase"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<br></li>
<li><p><strong>[方式二] HTTP</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Clone with commit-msg hook</span>
<span class="token function">git</span> clone <span class="token string">"https://xmuli@codereview.qt-project.org/a/qt/qtbase"</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>cd <span class="token string">"qtbase"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> -p .git/hooks <span class="token operator">&amp;&amp;</span> <span class="token function">curl</span> -Lo <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> rev-parse --git-dir<span class="token variable">`</span></span>/hooks/commit-msg https://xmuli@codereview.qt-project.org/tools/hooks/commit-msg<span class="token punctuation">;</span> <span class="token function">chmod</span> +x <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> rev-parse --git-dir<span class="token variable">`</span></span>/hooks/commit-msg<span class="token punctuation">)</span>

<span class="token comment"># Clone with commit-msg hook</span>
<span class="token function">git</span> clone <span class="token string">"https://xmuli@codereview.qt-project.org/a/qt/qtbase"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<br></li>
<li><p><strong>[方式三] SSH</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Clone with commit-msg hook</span>
<span class="token function">git</span> clone <span class="token string">"ssh://xmuli@codereview.qt-project.org:29418/qt/qtbase"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">scp</span> -p -P <span class="token number">29418</span> xmuli@codereview.qt-project.org:hooks/commit-msg <span class="token string">"qtbase/.git/hooks/"</span>

<span class="token comment"># Clone</span>
<span class="token function">git</span> clone <span class="token string">"ssh://xmuli@codereview.qt-project.org:29418/qt/qtbase"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<br></li>
</ul>
<blockquote>
<p>//附 qtbase[2020-07-08].rar 百度云盘备份<br>链接: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1gLPjqXL7vbRhp6oqGIeMlg">https://pan.baidu.com/s/1gLPjqXL7vbRhp6oqGIeMlg</a>  密码: knag</p>
</blockquote>
<br>

<h4 id="设置-git-hooks："><a href="#设置-git-hooks：" class="headerlink" title="设置 git hooks："></a>设置 git hooks：</h4><p>执行如下，配置的是 commit msg和commit hook，它能自动生成一个changeid，也就是将来标示你这个修改的id。后面若是需要修改的话，就使用 <code>git commit --amend</code> 来修改，避免 <code>Change-Id</code> 发生了改变，生成了一个新的提交；</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">gitdir</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">git</span> rev-parse --git-dir<span class="token variable">)</span></span><span class="token punctuation">;</span> <span class="token function">scp</span> -P <span class="token number">29418</span> codereview.qt-project.org:hooks/commit-msg <span class="token variable">$&#123;gitdir&#125;</span>/hooks/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<br>

<h4 id="修改代码和-commit："><a href="#修改代码和-commit：" class="headerlink" title="修改代码和 commit："></a>修改代码和 commit：</h4><blockquote>
<p>若是在 Linux 上，下载源码包之后，执行 <code>sudo apt build-dep qtbase5-dev</code> 安装编译依赖；源码切换到 <code>dev</code> 分支， 进行代码修改后，进行 commit 提交信息；</p>
</blockquote>
<p>在本地， 现在本地修改好代码，</p>
<p>注意的的是，Qt 的提交规范是很严格的：一开始一句简短的描述，然后一行空行，再然后就是详细的描述；如果提交的 commit 不符合规范的话，机器人🤖是会指出来错误的；一直到你提交正确为止；</p>
<br>

<h4 id="提交贡献："><a href="#提交贡献：" class="headerlink" title="提交贡献："></a>提交贡献：</h4><p>当代码修改通过之后，且能够成功编译之后，且 commit 信息也正确的就可以准备提交了；且一般每个贡献代码是需要在提交信息结束的时候，将附带的 Qt-Bug 编号给带上去；</p>
<p>也可以参考官方的提交模板：<a target="_blank" rel="noopener" href="https://code.qt.io/cgit/qt/qt5.git/tree/.commit-template">.commit-template</a> </p>
<p>附上一个他人提交的例子 <a target="_blank" rel="noopener" href="https://codereview.qt-project.org/c/qt/qtbase/+/306765">qtbase/+/306765</a> 作为参考，摘录如下：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">Fix handling of Suzhou numbering system

This only arises when the system locale tells us to use its zero as
our zero digit<span class="token punctuation">,</span> since no CLDR locale uses it by default. Adapt an
MS<span class="token punctuation">-</span>specific QLocale<span class="token punctuation">:</span><span class="token punctuation">:</span>system() test to use Suzhou numbering<span class="token punctuation">,</span> so as to
test this.

<span class="token key atrule">Fixes</span><span class="token punctuation">:</span> QTBUG<span class="token punctuation">-</span><span class="token number">85409</span>
<span class="token key atrule">Change-Id</span><span class="token punctuation">:</span> I343324bb563ee0e455dfe77d4825bf8c3082ca30<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>若是第一次 commit， 执行 <code>git commit -a</code>，会显示你加上的信息和自动加上的 <code>Change-Id</code> 号作为本次记录：</p>
 <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200709003020.png" width="70%" / loading="lazy">



<p><font color=#D0087E face="幼圆"><strong>注意：</strong>  不按照此规范写 commit 信息，也是不会被合并的</font></p>
<br>

<h4 id="推送贡献-PATH："><a href="#推送贡献-PATH：" class="headerlink" title="推送贡献 PATH："></a>推送贡献 PATH：</h4><p>执行 <code>git push origin HEAD:refs/for/dev</code> 将修改的文件进行推送到 <code>gerrit</code> 上，进行代码审查，这里推送可能需要等待的时间比较长：</p>
 <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708_205601.png" width="70%" / loading="lazy">

<br>

<h4 id="添加审核"><a href="#添加审核" class="headerlink" title="添加审核:"></a>添加审核:</h4><p>查看本文件的修改者 <code>git log --pretty=oneline src/3rdparty/libpng/png.c</code> ，选取其中出现评率最高的人，添加即可；</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">f2ce5b9136882fb315cb524fd9037bc06bff7830 (HEAD <span class="token punctuation">-</span><span class="token punctuation">></span> dev) Add spaces around '/<span class="token important">*'</span> and '<span class="token important">*/'</span>
2e8005765d6513c4743a939aea97c68427f6ab2c Update bundled libpng to version 1.6.37
5d8b01468e8bd752dad090aaef4ccf3a83a58a0d Update bundled libpng to version 1.6.36
0d7c049e4407bf0db8d1eca1ea248c6d6b739c8c Update bundled libpng to version 1.6.35
b084837ffc34439710552cb6ed31054c60f6b2d4 Update bundled libpng to version 1.6.34
e51dbda0677d9ff4419c9dc70e6209fae194ee02 Update bundled libpng to version 1.6.32
9369eca108cc509ed651c0dbab6fa54de83727fc Update bundled libpng to version 1.6.28
714cb4020e12e078e8ba8c2c5493d138d515f46d Update bundled libpng to version 1.6.20
ad5c768fc8b93e22201fb557561b2edd4fcdc26b Update bundled libpng to version 1.6.19
68c137cc725ceadec68c455e0e3e365ecb00f2c1 Update bundled libpng to version 1.6.17
<span class="token key atrule">1fa1ce36288e3e537e9e4db1cfa42b338b5b7e58 Upgrading libpng</span><span class="token punctuation">:</span> Adding clean copy of libpng 1.5.10
38be0d13830efd2d98281c645c3a60afe05ffece Initial import from the monolithic Qt.
(END)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>添加完成之后，等待即可：<br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708212111.png" width="90%" / loading="lazy"></p>
<p><font color=#D0087E face="幼圆"><strong>注意：</strong>  和常规的 gitlab、 github 不同，若是不指定审查者，那么该修改一万年也不会有机会被合并进去；必须在网页 gerrit 上指定几个该 commit 的审查者</font></p>
<br>

<h4 id="合并结果："><a href="#合并结果：" class="headerlink" title="合并结果："></a>合并结果：</h4><p>若是没有问题，则会被批准进入仓库；或者按照指导意见来修改，符合标准之后，依旧可以被合并；或许因为某些原因可能不被合并；好运~~</p>
<br>

<h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p>本次重在熟悉流程，为后面的为 Qt 提交贡献 Path 做准备；</p>
<p>本次提交 Bug 为 <a target="_blank" rel="noopener" href="https://bugreports.qt.io/browse/QTBUG-85477">QTBUG-85477</a> 和 对应的修改 <a target="_blank" rel="noopener" href="https://codereview.qt-project.org/c/qt/qtbase/+/307241">+307241</a> ；因为此修改实际为 Qt 的第三方库，需要从它的上游进行提交修改，而非此处的 qtbase 修改； 于是在对应的第三方的存储库 <a target="_blank" rel="noopener" href="https://github.com/glennrp/libpng">glennrp/libpng</a> 补上了这个提交 <a target="_blank" rel="noopener" href="https://github.com/glennrp/libpng/pulls">#337</a></p>
<br>

<h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><ul>
<li><p><a target="_blank" rel="noopener" href="https://wiki.qt.io/Setting_up_Gerrit">Setting up Gerrit</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://wiki.qt.io/Gerrit_Introduction">Gerrit_Introduction</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://code.qt.io/cgit/qt/qt5.git/commit/.commit-template">qt-commit-template</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.csslayer.info/wordpress/linux/qt-linux/contribute-patch-to-qt/">如何给 Qt 贡献 Patch</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://bugreports.qt.io/browse/QTBUG-85477">QTBUG-85477</a> [本次实例]</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://codereview.qt-project.org/c/qt/qtbase/+/307241">commit 307241</a> [本次实例]</p>
</li>
</ul>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">若文章有所感所获，亦可请我共饮一杯肥宅冰阔落；</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200701013332.png"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200701013332.png" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200701013449.png"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200701013449.png" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200701013628.png"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200701013628.png" alt="QQ 支付" title="QQ 支付"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>偕臧</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://ifmet.cn/posts/6c51a934/" title="如何给上游Qt提交Bug反馈和贡献代码PATH？">https://ifmet.cn/posts/6c51a934/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/29ffae87/" rel="prev" title="c++中sizeof()运算符的的深入理解"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">c++中sizeof()运算符的的深入理解</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/ec46a3f7/" rel="next" title="hexo博客CI自动部署网站[个人习惯]"><span class="post-nav-text">hexo博客CI自动部署网站[个人习惯]</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span></span><br></div><div id="valine-container"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js", () => {
  const valineConfig = {"enable":true,"appId":"j1ERzyBCVwKtzx1t7EOv5ur8-MdYXbMMI","appKey":"EuraMPDEgt5G8iLWSNrkQ49n","placeholder":"不同的观点和想法相遇，促进彼此的成长，当然，这里也可以俏皮一下 (´・ω・`) ~~~ (填写邮箱可以收到回复)","avatar":"wavatar","pageSize":10,"visitor":true,"highlight":true,"recordIP":true,"enableQQ":true,"meta":["nick","mail","link"],"el":"#valine-container","lang":"zh-cn"}
  valineConfig.path = "/posts/6c51a934/"
  new Valine(valineConfig)
}, window.Valine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">鄂ICP备2021002780号</a></div><div class="copyright"><span>&copy; 2019 – 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 偕臧</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v5.4.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.5.2</span></div><div class="live_time"><span>本博客已萌萌哒地运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2019-06-09T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="搜索..." value=""></div><div id="local-search-result"></div></div><script>const date = new Date();
const today = (date.getMonth() + 1) + "-" + date.getDate()
const mourn_days = ["4-4"]
if (mourn_days.includes(today)) {
  document.documentElement.style.filter = "grayscale(1)";
}</script></div></body></html>